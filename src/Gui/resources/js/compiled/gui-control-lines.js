!function(t){"use strict";let e=function(i,s){let n=this;this.$element=t(i);this.options=t.extend({},e.DEFAULTS,s);this.count=0;this.$whitespace=t(".whitespace",this.$element.parent());this.$lines=t('<div class="lines" />');this.$lines.insertAfter(this.$whitespace);if(this.options.autosize){this.$element.parent().addClass("autosize")}else{this.$element.on("scroll",(function(){n.scroll()}))}this.$element.on("keydown",(function(){n.update()})).on("keyup",(function(t){n.update();if(t.target.selectionStart===n.$element.val().length){n.$element[0].scrollTop=n.$element[0].scrollHeight}})).on("keypress",(function(t){n.keypress(t)}));this.update()};e.prototype.scroll=function(){this.$lines.css({"margin-top":-1*this.$element.scrollTop()+"px"})};e.prototype.countLines=function(){return this.$element.val()?this.$element.val().split(/\r?\n/).length:1};e.prototype.update=function(){if(this.count!=this.countLines()){this.count=this.countLines();this.fillLinesNumbers()}};e.prototype.fillLinesNumbers=function(){this.$lines.empty();this.$whitespace.html(this.count);for(let t=1;t<=this.count;t++){this.$lines.append('<div class="line">'+t+"</div>")}};e.prototype.keypress=function(t){if(t.which===13&&this.options.max>0&&this.count>=this.options.max){t.preventDefault()}this.update()};e.DEFAULTS={max:0,autosize:false};t.fn.GUIControlLines=function(i){t.each(this,(function(){let s=t(this);let n=s.data("gui.lines");let o=typeof i=="object"&&i;if(!n)s.data("gui.lines",new e(this,o))}))}}(jQuery);