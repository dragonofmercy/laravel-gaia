!function(t){"use strict";let e=function(i,n){let s=this;this.options=t.extend({},e.DEFAULTS,n);this.$element=t(i);this.$input=t("input[type=text]",this.$element.next());this.$button=this.$input.prev();if(this.$element.prop("disabled")||this.$element.prop("readonly")){this.$button.addClass("disabled")}this.$button.on("click",(function(){s.$element.trigger("click")}));this.$element.on("change",(function(){s.updateDisplay()}));this.$input.val(this.options.filenameDisplay?this.options.filenameDisplay:this.options.strings.empty);t(".control-label label",this.$element.parents("form-group")).on("click",(function(t){t.preventDefault();s.$input.trigger("focus")}))};e.prototype.updateDisplay=function(){let t=[],e;for(let e=0;e<this.$element[0].files.length;e++){t.push(this.$element[0].files[e].name)}if(t.length>1){e=this.options.strings.multiple.replace("%d",t.length.toString())}else if(t.length===1){e=t[0]}else{e=this.options.strings.empty}this.$input.val(e)};e.DEFAULTS={filenameDisplay:"",strings:{multiple:"%d files selected",empty:"No file chosen"}};t.fn.GUIControlFile=function(i){t.each(this,(function(){let n=t(this);let s=n.data("gui.file");let l=typeof i=="object"&&i;if(!s)n.data("gui.file",new e(this,l))}))}}(jQuery);