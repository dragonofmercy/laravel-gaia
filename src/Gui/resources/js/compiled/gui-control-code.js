!function(t){"use strict";let e=function(i,n){let o=this;this.$element=t(i);this.$inputs=t("input",this.$element);this.options=t.extend({},e.DEFAULTS,n);t(".control-label label",this.$element.parents("form-group")).on("click",(function(){o.$inputs.eq(0).trigger("focus")}));this.$inputs.each((function(){let e=t(this);if(o.$element.attr("disabled")||o.$element.attr("readonly")){t(this).prop("readonly",true)}t(this).on("input",(function(t){o.input(t)})).on("keydown",(function(t){o.keydown(t)})).on("focus",(function(){e.trigger("select")})).on("paste",(function(t){t.preventDefault();if(o.$element.attr("disabled")||o.$element.attr("readonly")){return false}let e=t.originalEvent.clipboardData.getData("text").replace(/[^a-z0-9]/i,"");for(let t=0;t<o.$inputs.length;t++){let i=o.$inputs.eq(t);i.val(e[t]);o.validate(i)}}))}))};e.prototype.input=function(e){this.validate(t(e.target))};e.prototype.keydown=function(e){let i=t(e.target);let n=this.getInputPosition(i);if(e.which===8&&n>0){e.preventDefault();i.val("");this.$inputs.eq(n-1).trigger("focus")}else if(e.which===46&&n<this.$inputs.length-1){e.preventDefault();i.val("");this.$inputs.eq(n+1).trigger("focus")}else{if(e.which===37&&n>0){e.preventDefault();this.$inputs.eq(n-1).trigger("focus")}else if(e.which===39){e.preventDefault();this.$inputs.eq(n+1).trigger("focus")}}};e.prototype.getInputPosition=function(t){let e=t.attr("name").match(/\[([0-9])]$/i);return parseInt(e!==null?e[1]:0)};e.prototype.validate=function(e){if(e.val().match(this.options.pattern)){if(this.getInputPosition(e)<this.$inputs.length-1){this.$inputs.eq(this.getInputPosition(e)+1).trigger("focus")}else{let i=true;this.$inputs.each((function(){if(!t(this).val()){i=false}}));if(i){this.options.onComplete()}e.trigger("blur")}}else{e.val("")}};e.DEFAULTS={pattern:/[a-z0-9]/i,onComplete:function(){}};t.fn.GUIControlCode=function(i){t.each(this,(function(){let n=t(this);let o=n.data("gui.code");let s=typeof i=="object"&&i;if(!o)n.data("gui.code",new e(this,s))}))}}(jQuery);